<div class="category-filter">
  <label for="category">Filtrer par catégorie :</label>
  <select [(ngModel)]="selectedCategory" name="category">
    <option value="">Toutes</option>
    <option *ngFor="let cat of categories">{{ cat }}</option>
  </select>
</div>

<div id="Card_container">
  <div *ngFor="let task of filteredTasks()" class="task-card">
    <h3>{{ task.title }} - {{ task.category }}</h3>
    <p><strong>Description:</strong> {{ task.description }}</p>
    <p><strong>Statut:</strong> {{ task.status }}</p>
    <p><strong>Priorité:</strong> {{ task.priority }}</p>
    <p><strong>Échéance:</strong> {{ task.dueDate | date : "dd/MM/yyyy" }}</p>

    <label class="LabelReminder">
      <input
        type="checkbox"
        [checked]="task.reminder"
        (change)="toggleReminder(task)"
      />
      Activer le rappel
    </label>

    <button (click)="changeStatus(task, 'in_progress')">En cours</button>
    <button (click)="changeStatus(task, 'done')">Terminé</button>
    <button (click)="deleteTask(task)">Supprimer</button>
  </div>
</div>

<input
  type="text"
  placeholder="Titre"
  [(ngModel)]="newTaskTitle"
  name="title"
/>

<textarea
  placeholder="Description"
  [(ngModel)]="newTaskDescription"
  name="description"
></textarea>

<button (click)="addTask(newTaskTitle, newTaskDescription)">
  Ajouter une tâche
</button>

<app-task-lists
  [lists]="lists"
  (selectList)="onSelectList($event)"
></app-task-lists>
